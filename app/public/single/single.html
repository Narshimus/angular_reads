<div ng-if=$ctrl.post class="well">
  <div class="media-left">
    <img ng-src="{{$ctrl.post.image_url}}" class="media-object">
  </div>
  <div class="media-body">
    <h4 class="media-heading">
    {{$ctrl.post.title}}
    |
    <a ng-click="$ctrl.voteUp()"><i class="glyphicon glyphicon-arrow-up"></i></a>
    <a ng-click="$ctrl.voteDown()"><i class="glyphicon glyphicon-arrow-down"></i></a>
    {{$ctrl.post.vote_count}}
      <span class="pull-right">
        <a ui-sref="editPosts({id:$ctrl.post.id})">edit<i class="glyphicon glyphicon-pencil"></i></a>
        <a ng-click="$ctrl.deletePost()">delete<i class="glyphicon glyphicon-remove-circle"></i></a>
      </span>
</h4>
    <div class="text-right">
      {{$ctrl.post.author}}
    </div>
    <p>
      {{$ctrl.post.body}}
    </p>
    <span am-time-ago="$ctrl.post.created_at"></span> |
    <i class="glyphicon glyphicon-comment"></i>

    <comment post="$ctrl.post" comments='$ctrl.post.comments'></comment>

  </div>
  <div class="row" ng-if="$ctrl.edit">
    <div class="col-md-8">
      <form name="form" novalidate ng-submit="$ctrl.editPost()">
        <div ng-class="{'form-group': true, 'has-error': form.title.$invalid && form.title.$touched }">
          <label for="title">Title</label>
          <input class="form-control" name="title" required ng-model="$ctrl.edit.title">
        </div>
        <div ng-class="{'form-group': true, 'has-error': form.body.$invalid && form.body.$touched }">
          <label>Body</label>
          <textarea class="form-control" name="body" required ng-model="$ctrl.edit.body"></textarea>
        </div>
        <div ng-class="{'form-group': true, 'has-error': form.author.$invalid && form.author.$touched }">
          <label>Author</label>
          <input class="form-control" name="author" required ng-model="$ctrl.edit.author">
        </div>
        <div ng-class="{'form-group': true, 'has-error': form.image_url.$invalid && form.image_url.$touched }">
          <label>Image URL</label>
          <input class="form-control" name="image_url" required ng-model="$ctrl.edit.image_url">
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary" ng-disabled="form.$invalid">
          Update
        </button>
          <button ng-click="$ctrl.cancelEdit()" type="button" class="btn btn-primary">
          Cancel
        </button>
        </div>
      </form>
    </div>
  </div>
</div>
